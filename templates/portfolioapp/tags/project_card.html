{% load static %}
{% load portfolio_extras %}

<div class="project-card-premium" data-aos="fade-up">
    <div class="project-image-container">
        {% if project.image %}
            <img src="{{ project.image.url }}" alt="{{ project.title }}" class="project-image" loading="lazy">
        {% else %}
            <div class="project-placeholder">
                <i class="fas fa-code"></i>
                <span class="placeholder-text">{{ project.title }}</span>
            </div>
        {% endif %}
        
        {% if show_actions %}
        <div class="project-overlay-modern">
            <div class="project-actions">
                <a href="{% url 'project_detail' project.pk %}" class="action-btn primary" title="Voir le projet">
                    <i class="fas fa-eye"></i>
                </a>
                {% if project.github_url %}
                <a href="{{ project.github_url }}" target="_blank" class="action-btn secondary" title="Code source">
                    <i class="fab fa-github"></i>
                </a>
                {% endif %}
                {% if project.demo_url %}
                <a href="{{ project.demo_url }}" target="_blank" class="action-btn tertiary" title="DÃ©monstration">
                    <i class="fas fa-external-link-alt"></i>
                </a>
                {% endif %}
            </div>
        </div>
        {% endif %}
    </div>
    
    <div class="project-content-modern">
        <div class="project-meta">
            {% if project.category %}
                <span class="project-category">{{ project.category.name }}</span>
            {% endif %}
            <span class="project-status status-{{ project.status }}">{{ project.get_status_display }}</span>
        </div>
        
        <h3 class="project-title-modern">
            <a href="{% url 'project_detail' project.pk %}">{{ project.title }}</a>
        </h3>
        <p class="project-description-modern">{{ project.description|striptags|truncatewords:15 }}</p>
        
        {% if project.technologies %}
        <div class="project-tech-stack">
            {% for tech in project.technologies|split_technologies %}
                <span class="tech-badge">{{ tech }}</span>
            {% endfor %}
        </div>
        {% endif %}
        
        <div class="project-stats">
            <div class="stat">
                <i class="fas fa-eye"></i>
                <span>{{ project.views_count }}</span>
            </div>
            <div class="stat">
                <i class="fas fa-heart"></i>
                <span>{{ project.likes.count }}</span>
            </div>
            {% if project.tags.exists %}
            <div class="stat">
                <i class="fas fa-tags"></i>
                <span>{{ project.tags.count }}</span>
            </div>
            {% endif %}
        </div>
    </div>
</div>