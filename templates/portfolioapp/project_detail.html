{% extends 'portfolioapp/base.html' %}
{% load static %}
{% load portfolio_extras %}

{% block head %}
    <meta name="description" content="{{ project.title }} - {{ project.description|striptags|truncatewords:20 }}">
    <meta name="keywords" content="{{ project.title }}, {{ project.category.name|default:'projet' }}, portfolio, Chadrack Mbu Jess">
    <meta property="og:title" content="{{ project.title }} | Portfolio de Chadrack Mbu Jess">
    <meta property="og:description" content="{{ project.description|striptags|truncatewords:20 }}">
    {% if project.image %}
        <meta property="og:image" content="{{ project.image.url }}">
    {% endif %}
    <link href="{% static 'css/project_detail.css' %}" rel="stylesheet">
    <link href="{% static 'css/related-projects.css' %}" rel="stylesheet">
    <link href="{% static 'css/facebook-comments.css' %}" rel="stylesheet">
{% endblock %}

{% block title %}{{ project.title }} | Portfolio de Chadrack Mbu Jess{% endblock %}

{% block content %}
<!-- Navigation Breadcrumb √âl√©gante -->
<div class="breadcrumb-luxury">
    <div class="container-fluid">
        <nav class="breadcrumb-nav">
            <a href="{% url 'home' %}" class="breadcrumb-link">
                <i class="fas fa-home"></i>
                <span>Accueil</span>
            </a>
            <div class="breadcrumb-divider">
                <svg width="6" height="10" viewBox="0 0 6 10" fill="none">
                    <path d="M1 1L5 5L1 9" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
            </div>
            <a href="{% url 'projects' %}" class="breadcrumb-link">
                <span>Projets</span>
            </a>
            <div class="breadcrumb-divider">
                <svg width="6" height="10" viewBox="0 0 6 10" fill="none">
                    <path d="M1 1L5 5L1 9" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
            </div>
            <span class="breadcrumb-current">{{ project.title }}</span>
        </nav>
    </div>
</div>

<!-- Hero Section Premium -->
<section class="project-hero-premium">
    <div class="hero-background-premium">
        <div class="hero-gradient-overlay"></div>
        <div class="hero-pattern"></div>
    </div>

    <div class="container-fluid">
        <div class="hero-content-premium">
            <div class="hero-main-content">
                <!-- Badge de cat√©gorie premium -->
                {% if project.category %}
                <div class="category-badge-premium">
                    <span class="badge-dot"></span>
                    <span class="badge-text">{{ project.category.name }}</span>
                </div>
                {% endif %}

                <!-- Titre principal avec animation -->
                <h1 class="project-title-premium">
                    <span class="title-main">{{ project.title }}</span>
                    <div class="title-underline"></div>
                </h1>

                <!-- Description √©l√©gante -->
                <div class="project-description-premium">
                    <p class="description-text">{{ project.description|striptags|truncatewords:25 }}</p>
                </div>

                <!-- M√©tadonn√©es sophistiqu√©es -->
                <div class="project-metadata-premium">
                    <div class="metadata-group">
                        <div class="metadata-item">
                            <div class="metadata-icon">
                                <i class="fas fa-calendar-alt"></i>
                            </div>
                            <div class="metadata-content">
                                <span class="metadata-label">Date de cr√©ation</span>
                                <span class="metadata-value">{{ project.created_at|date:"d M Y" }}</span>
                            </div>
                        </div>

                        <div class="metadata-item">
                            <div class="metadata-icon">
                                <i class="fas fa-eye"></i>
                            </div>
                            <div class="metadata-content">
                                <span class="metadata-label">Vues</span>
                                <span class="metadata-value">{{ project.views_count }}</span>
                            </div>
                        </div>

                        <div class="metadata-item">
                            <div class="metadata-icon">
                                <i class="fas fa-heart"></i>
                            </div>
                            <div class="metadata-content">
                                <span class="metadata-label">Likes</span>
                                <span class="metadata-value">{{ project.likes.count }}</span>
                            </div>
                        </div>

                        <div class="metadata-item">
                            <div class="metadata-icon status-icon-{{ project.status }}">
                                {% if project.status == 'completed' %}
                                    <i class="fas fa-check-circle"></i>
                                {% elif project.status == 'in_progress' %}
                                    <i class="fas fa-clock"></i>
                                {% else %}
                                    <i class="fas fa-lightbulb"></i>
                                {% endif %}
                            </div>
                            <div class="metadata-content">
                                <span class="metadata-label">Statut</span>
                                <span class="metadata-value status-{{ project.status }}">{{ project.get_status_display }}</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Actions premium -->
                <div class="project-actions-premium">
                    {% if project.demo_url %}
                        <a href="{{ project.demo_url }}" target="_blank" class="btn-premium primary">
                            <span class="btn-content">
                                <i class="fas fa-external-link-alt"></i>
                                <span>Voir la d√©mo</span>
                            </span>
                            <div class="btn-shine"></div>
                        </a>
                    {% endif %}

                    {% if project.github_url %}
                        <a href="{{ project.github_url }}" target="_blank" class="btn-premium secondary">
                            <span class="btn-content">
                                <i class="fab fa-github"></i>
                                <span>Code source</span>
                            </span>
                            <div class="btn-shine"></div>
                        </a>
                    {% endif %}

                    <button class="btn-premium tertiary like-btn-premium" data-project-id="{{ project.id }}">
                        <span class="btn-content">
                            <i class="{% if project|is_liked_by:user %}fas{% else %}far{% endif %} fa-heart like-icon"></i>
                            <span class="like-text">{{ project.likes.count }}</span>
                        </span>
                        <div class="btn-shine"></div>
                    </button>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Section Contenu Premium -->
<section class="project-content-premium">
    <div class="container-fluid">
        <div class="content-layout-premium">
            <!-- Contenu principal -->
            <div class="main-content-premium">
                <!-- Showcase d'image premium -->
                {% if project.image %}
                <div class="project-showcase-premium">
                    <div class="showcase-container">
                        <div class="showcase-image-wrapper" onclick="openImageModal('{{ project.image.url }}')">
                            <img src="{{ project.image.url }}" alt="{{ project.title }}" class="showcase-image" loading="lazy">
                            <div class="showcase-overlay">
                                <div class="showcase-zoom">
                                    <i class="fas fa-search-plus"></i>
                                    <span>Agrandir</span>
                                </div>
                            </div>
                        </div>
                        <div class="showcase-caption">
                            <span class="caption-text">Cliquez pour agrandir l'image</span>
                        </div>
                    </div>
                </div>
                {% endif %}

                <!-- Section Description Premium -->
                <div class="description-section-premium">
                    <div class="section-header-premium">
                        <div class="section-icon-premium">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                                <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z" fill="currentColor"/>
                            </svg>
                        </div>
                        <h2 class="section-title-premium">√Ä propos de ce projet</h2>
                        <div class="section-line-premium"></div>
                    </div>

                    <div class="description-content-premium">
                        <div class="content-text">
                            {{ project.description|safe }}
                        </div>
                    </div>
                </div>

                <!-- Section Technologies Premium -->
                {% if project.technologies %}
                <div class="technologies-section-premium">
                    <div class="section-header-premium">
                        <div class="section-icon-premium">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                                <path d="M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0L19.2 12l-4.6-4.6L16 6l6 6-6 6-1.4-1.4z" fill="currentColor"/>
                            </svg>
                        </div>
                        <h2 class="section-title-premium">Technologies & Outils</h2>
                        <div class="section-line-premium"></div>
                    </div>

                    <div class="technologies-grid-premium">
                        {% for tech in project.technologies|split_technologies %}
                            <div class="tech-card-premium">
                                <div class="tech-icon-premium">
                                    <i class="fas fa-code"></i>
                                </div>
                                <span class="tech-name-premium">{{ tech }}</span>
                                <div class="tech-glow-premium"></div>
                            </div>
                        {% endfor %}
                    </div>
                </div>
                {% endif %}
            </div>

            <!-- Sidebar Premium -->
            <div class="sidebar-premium">
                <!-- Informations du projet premium -->
                <div class="sidebar-card-premium">
                    <div class="card-header-premium">
                        <div class="header-icon-premium">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                                <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z" fill="currentColor"/>
                            </svg>
                        </div>
                        <h3 class="card-title-premium">D√©tails du projet</h3>
                    </div>

                    <div class="card-content-premium">
                        <div class="info-grid-premium">
                            <div class="info-item-premium">
                                <div class="info-icon-premium status-icon-{{ project.status }}">
                                    {% if project.status == 'completed' %}
                                        <i class="fas fa-check-circle"></i>
                                    {% elif project.status == 'in_progress' %}
                                        <i class="fas fa-clock"></i>
                                    {% else %}
                                        <i class="fas fa-lightbulb"></i>
                                    {% endif %}
                                </div>
                                <div class="info-content-premium">
                                    <span class="info-label-premium">Statut</span>
                                    <span class="info-value-premium status-{{ project.status }}">{{ project.get_status_display }}</span>
                                </div>
                            </div>

                            {% if project.category %}
                            <div class="info-item-premium">
                                <div class="info-icon-premium">
                                    <i class="fas fa-folder-open"></i>
                                </div>
                                <div class="info-content-premium">
                                    <span class="info-label-premium">Cat√©gorie</span>
                                    <span class="info-value-premium">{{ project.category.name }}</span>
                                </div>
                            </div>
                            {% endif %}

                            <div class="info-item-premium">
                                <div class="info-icon-premium">
                                    <i class="fas fa-calendar-plus"></i>
                                </div>
                                <div class="info-content-premium">
                                    <span class="info-label-premium">Cr√©√© le</span>
                                    <span class="info-value-premium">{{ project.created_at|date:"d M Y" }}</span>
                                </div>
                            </div>

                            <div class="info-item-premium">
                                <div class="info-icon-premium">
                                    <i class="fas fa-edit"></i>
                                </div>
                                <div class="info-content-premium">
                                    <span class="info-label-premium">Mis √† jour</span>
                                    <span class="info-value-premium">{{ project.updated_at|date:"d M Y" }}</span>
                                </div>
                            </div>
                        </div>

                        <!-- Statistiques premium -->
                        <div class="stats-grid-premium">
                            <div class="stat-item-premium">
                                <div class="stat-icon-premium">
                                    <i class="fas fa-eye"></i>
                                </div>
                                <div class="stat-content-premium">
                                    <span class="stat-number-premium">{{ project.views_count }}</span>
                                    <span class="stat-label-premium">Vues</span>
                                </div>
                            </div>

                            <div class="stat-item-premium">
                                <div class="stat-icon-premium">
                                    <i class="fas fa-heart"></i>
                                </div>
                                <div class="stat-content-premium">
                                    <span class="stat-number-premium">{{ project.likes.count }}</span>
                                    <span class="stat-label-premium">Likes</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Projets similaires - Nouveau design -->
                <div class="related-projects-container">
                    <div class="card-header-premium">
                        <h2 class="section-title-premium">D√©couvrez mes autres r√©alisations</h2>
                        <p class="section-subtitle">Explorez ces projets qui refl√®tent mon expertise et ma cr√©ativit√© en d√©veloppement web.</p>
                    </div>
                    
                    <div class="related-projects-grid">
                        {% for category, projects in projects_by_category.items %}
                            {% if category != "non_categorise" and projects %}
                                {% for proj in projects|slice:":3" %}
                                    {% if proj != project %}
                                        <div class="related-project-card">
                                            <a href="{% url 'project_detail' proj.pk %}" class="project-card-link">
                                                <div class="project-image-container">
                                                    {% if proj.image %}
                                                        <img src="{{ proj.image.url }}" alt="{{ proj.title }}" class="project-image">
                                                    {% else %}
                                                        <div class="project-image-placeholder">
                                                            <i class="fas fa-code"></i>
                                                        </div>
                                                    {% endif %}
                                                    <div class="project-overlay">
                                                        <span class="view-project">Voir le projet</span>
                                                    </div>
                                                </div>
                                                <div class="project-content">
                                                    <div class="project-header">
                                                        <h3 class="project-title">{{ proj.title }}</h3>
                                                        <span class="project-category">{{ proj.category.name|default:"Autre" }}</span>
                                                    </div>
                                                    <p class="project-description">{{ proj.description|striptags|truncatewords:15 }}</p>
                                                    <div class="project-meta">
                                                        <span class="meta-item">
                                                            <i class="fas fa-eye"></i> {{ proj.views_count }}
                                                        </span>
                                                        <span class="meta-item">
                                                            <i class="fas fa-heart"></i> {{ proj.likes.count }}
                                                        </span>
                                                        <span class="meta-item">
                                                            <i class="far fa-comment"></i> {{ proj.comments.count }}
                                                        </span>
                                                    </div>
                                                </div>
                                            </a>
                                        </div>
                                    {% endif %}
                                {% endfor %}
                            {% endif %}
                        {% endfor %}
                    </div>
                    
                    <div class="view-all-projects">
                        <a href="{% url 'projects' %}" class="view-all-button">Voir tous mes projets</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Section Commentaires Premium -->
<section class="comments-section-premium">
    <div class="container-fluid">
        <div class="comments-container-premium">
            <!-- En-t√™te des commentaires premium -->
            <div class="comments-header-premium">
                <div class="header-content-premium">
                    <div class="header-icon-premium">
                        <svg width="28" height="28" viewBox="0 0 24 24" fill="none">
                            <path d="M20 2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h4l4 4 4-4h4c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2z" fill="currentColor"/>
                        </svg>
                    </div>
                    <div class="header-text-premium">
                        <h2 class="comments-title-premium">Discussion</h2>
                        <p class="comments-subtitle-premium">Partagez vos impressions sur ce projet</p>
                    </div>
                </div>
                <div class="comments-count-premium">
                    <span class="count-number">{{ project.comments.count }}</span>
                    <span class="count-label">commentaire{{ project.comments.count|pluralize }}</span>
                </div>
            </div>

            <!-- Formulaire de commentaire premium -->
            {% if user.is_authenticated %}
                <div class="comment-form-premium">
                    <div class="form-header-premium">
                        <div class="user-avatar-premium">
                            {% if user.profile.profile_picture %}
                                <img src="{{ user.profile.profile_picture.url }}" alt="{{ user.username }}">
                            {% else %}
                                <div class="avatar-placeholder-premium">
                                    {{ user.username|first|upper }}
                                </div>
                            {% endif %}
                        </div>
                        <div class="user-info-premium">
                            <span class="user-name-premium">{{ user.username }}</span>
                            <span class="user-role-premium">Membre</span>
                        </div>
                    </div>

                    <form method="post" action="{% url 'add_comment' project.id %}" class="comment-form-luxury">
                        {% csrf_token %}
                        <div class="form-field-premium">
                            <textarea name="text" class="comment-input-premium" rows="4" placeholder="Partagez votre avis sur ce projet..." required></textarea>
                            <div class="input-border-premium"></div>
                        </div>
                        <div class="form-actions-premium">
                            <button type="submit" class="btn-comment-premium">
                                <span class="btn-content">
                                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                                        <path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z" fill="currentColor"/>
                                    </svg>
                                    <span>Publier</span>
                                </span>
                                <div class="btn-ripple-premium"></div>
                            </button>
                        </div>
                    </form>
                </div>
            {% else %}
                <div class="login-prompt-premium">
                    <div class="prompt-content-premium">
                        <div class="prompt-icon-premium">
                            <svg width="48" height="48" viewBox="0 0 24 24" fill="none">
                                <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z" fill="currentColor"/>
                            </svg>
                        </div>
                        <h3 class="prompt-title-premium">Rejoignez la conversation</h3>
                        <p class="prompt-text-premium">Connectez-vous pour partager votre avis et interagir avec la communaut√©</p>
                        <a href="{% url 'login' %}?next={{ request.path }}" class="btn-login-premium">
                            <span class="btn-content">
                                <i class="fas fa-sign-in-alt"></i>
                                <span>Se connecter</span>
                            </span>
                            <div class="btn-shine"></div>
                        </a>
                    </div>
                </div>
            {% endif %}

            <!-- Bouton pour afficher/masquer les commentaires -->
            {% if project.comments.count > 0 %}
            <div class="comments-toggle-section">
                <button class="comments-toggle-btn" onclick="toggleComments()">
                    <i class="fas fa-comments"></i>
                    <span>Voir les {{ project.comments.count }} commentaire{{ project.comments.count|pluralize }}</span>
                    <i class="fas fa-chevron-down toggle-icon"></i>
                </button>
            </div>
            {% endif %}

            <!-- Liste des commentaires premium (masqu√©e par d√©faut) -->
            <div class="comments-list-premium" id="comments-list" style="{% if project.comments.count > 0 %}display: none;{% endif %}">
                {% for comment in project.comments.all|dictsortreversed:"created_at" %}
                    {% include 'portfolioapp/comment_item.html' with comment=comment %}
                {% empty %}
                    <div class="empty-comments-facebook">
                        <div class="empty-icon-facebook">
                            <i class="fas fa-comments"></i>
                        </div>
                        <h3 class="empty-title-facebook">Aucun commentaire pour le moment</h3>
                        <p class="empty-text-facebook">Soyez le premier √† partager votre avis sur ce projet !</p>
                    </div>
                {% endfor %}
            </div>
        </div>
    </div>
</section>

<!-- Modal Premium pour zoom d'image -->
<div class="image-modal-premium" id="imageModal">
    <div class="modal-backdrop-premium"></div>
    <div class="modal-container-premium">
        <div class="modal-header-premium">
            <div class="modal-title-premium">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                    <path d="M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z" fill="currentColor"/>
                </svg>
                <span>Aper√ßu de l'image</span>
            </div>
            <button class="modal-close-premium" onclick="closeImageModal()">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                    <path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z" fill="currentColor"/>
                </svg>
            </button>
        </div>
        <div class="modal-content-premium">
            <img id="modalImage" class="modal-image-premium" src="" alt="">
            <div class="modal-controls-premium">
                <button class="control-btn-premium" onclick="downloadImage()">
                    <i class="fas fa-download"></i>
                    <span>T√©l√©charger</span>
                </button>
                <button class="control-btn-premium" onclick="shareImage()">
                    <i class="fas fa-share"></i>
                    <span>Partager</span>
                </button>
            </div>
        </div>
    </div>
</div>

<!-- Scripts JavaScript Premium -->
<script>
    // ===== GESTION DE LA MODAL PREMIUM =====
    function openImageModal(imageSrc) {
        const modal = document.getElementById('imageModal');
        const modalImage = document.getElementById('modalImage');

        modalImage.src = imageSrc;
        modal.classList.add('active');
        document.body.style.overflow = 'hidden';

        // Animation d'entr√©e
        setTimeout(() => {
            modal.querySelector('.modal-container-premium').style.transform = 'scale(1)';
            modal.querySelector('.modal-container-premium').style.opacity = '1';
        }, 10);
    }

    function closeImageModal() {
        const modal = document.getElementById('imageModal');
        const container = modal.querySelector('.modal-container-premium');

        // Animation de sortie
        container.style.transform = 'scale(0.9)';
        container.style.opacity = '0';

        setTimeout(() => {
            modal.classList.remove('active');
            document.body.style.overflow = 'auto';
        }, 300);
    }

    function downloadImage() {
        const modalImage = document.getElementById('modalImage');
        const link = document.createElement('a');
        link.href = modalImage.src;
        link.download = 'project-image.jpg';
        link.click();
    }

    function shareImage() {
        if (navigator.share) {
            navigator.share({
                title: 'Image du projet',
                url: document.getElementById('modalImage').src
            });
        } else {
            // Fallback pour les navigateurs qui ne supportent pas l'API Share
            navigator.clipboard.writeText(document.getElementById('modalImage').src);
            showNotification('Lien copi√© dans le presse-papiers !');
        }
    }

    // Fermer la modal avec Escape ou clic ext√©rieur
    document.addEventListener('keydown', function(e) {
        if (e.key === 'Escape') closeImageModal();
    });

    document.getElementById('imageModal').addEventListener('click', function(e) {
        if (e.target === this || e.target.classList.contains('modal-backdrop-premium')) {
            closeImageModal();
        }
    });

    // ===== GESTION DES COMMENTAIRES PREMIUM =====
    document.addEventListener('submit', function(event) {
        if (event.target.classList.contains('comment-form-luxury')) {
            event.preventDefault();

            const form = event.target;
            const formData = new FormData(form);
            const submitBtn = form.querySelector('.btn-comment-premium');

            // Animation de chargement
            submitBtn.classList.add('loading');
            submitBtn.disabled = true;

            fetch(form.action, {
                method: 'POST',
                body: formData,
                headers: {
                    'X-Requested-With': 'XMLHttpRequest',
                    'X-CSRFToken': form.querySelector('[name=csrfmiddlewaretoken]').value,
                },
            })
            .then(response => response.json())
            .then(data => {
                if (data.success) {
                    const commentsList = document.querySelector('.comments-list-premium');
                    commentsList.insertAdjacentHTML('afterbegin', data.comment_html);
                    form.reset();

                    // Mettre √† jour le compteur
                    const countNumber = document.querySelector('.count-number');
                    const countLabel = document.querySelector('.count-label');
                    const currentCount = parseInt(countNumber.textContent);
                    const newCount = currentCount + 1;

                    countNumber.textContent = newCount;
                    countLabel.textContent = `commentaire${newCount > 1 ? 's' : ''}`;

                    showNotification('Commentaire publi√© avec succ√®s !', 'success');
                } else {
                    showNotification('Erreur lors de la publication', 'error');
                }
            })
            .catch(error => {
                console.error('Erreur:', error);
                showNotification('Erreur de connexion', 'error');
            })
            .finally(() => {
                submitBtn.classList.remove('loading');
                submitBtn.disabled = false;
            });
        }
    });

    // ===== GESTION DES LIKES PREMIUM =====
    document.addEventListener('click', function(event) {
        if (event.target.closest('.like-btn-premium')) {
            const button = event.target.closest('.like-btn-premium');
            const projectId = button.getAttribute('data-project-id');
            const icon = button.querySelector('.like-icon');
            const text = button.querySelector('.like-text');

            // Animation de clic
            button.style.transform = 'scale(0.95)';
            setTimeout(() => {
                button.style.transform = 'scale(1)';
            }, 150);

            fetch(`/projects/${projectId}/like/`, {
                method: 'POST',
                headers: {
                    'X-CSRFToken': document.querySelector('[name=csrfmiddlewaretoken]').value,
                    'X-Requested-With': 'XMLHttpRequest',
                },
            })
            .then(response => response.json())
            .then(data => {
                if (data.success) {
                    if (data.liked) {
                        icon.className = 'fas fa-heart like-icon';
                        button.classList.add('liked');
                    } else {
                        icon.className = 'far fa-heart like-icon';
                        button.classList.remove('liked');
                    }
                    text.textContent = data.likes_count;
                }
            })
            .catch(error => console.error('Erreur:', error));
        }

        // ===== GESTION DES BOUTONS COMMENTAIRES CORRIG√âE =====
        // Bouton J'aime commentaire
        if (event.target.closest('.like-comment-btn')) {
            const button = event.target.closest('.like-comment-btn');
            const commentId = button.getAttribute('data-comment-id');
            const icon = button.querySelector('i');
            const span = button.querySelector('span');

            // Animation de clic avec effet visuel
            button.style.transform = 'scale(0.95)';
            setTimeout(() => {
                button.style.transform = 'scale(1)';
            }, 150);

            // Logique de like/unlike avec compteur dynamique
            if (icon.classList.contains('far')) {
                // Liker le commentaire
                icon.className = 'fas fa-heart';
                button.style.borderColor = '#e91e63';
                button.style.color = '#e91e63';
                button.style.background = 'rgba(233, 30, 99, 0.1)';

                // Gestion du compteur de likes
                let currentCount = 0;
                const existingCount = span.textContent.match(/\d+/);
                if (existingCount) {
                    currentCount = parseInt(existingCount[0]);
                }
                const newCount = currentCount + 1;

                span.innerHTML = `J'aime <span class="like-count" style="font-weight: 700; color: #e91e63;">${newCount}</span>`;

                // Animation du c≈ìur
                icon.style.animation = 'heartBeat 0.6s ease-in-out';
                setTimeout(() => {
                    icon.style.animation = '';
                }, 600);

                showNotification('üíñ Commentaire aim√© !', 'success');
            } else {
                // Unliker le commentaire
                icon.className = 'far fa-heart';
                button.style.borderColor = '';
                button.style.color = '';
                button.style.background = '';

                // Diminuer le compteur
                let currentCount = 1;
                const existingCount = span.textContent.match(/\d+/);
                if (existingCount) {
                    currentCount = parseInt(existingCount[0]);
                }
                const newCount = Math.max(0, currentCount - 1);

                if (newCount > 0) {
                    span.innerHTML = `J'aime <span class="like-count">${newCount}</span>`;
                } else {
                    span.textContent = 'J\'aime';
                }

                showNotification('Like retir√©', 'info');
            }
        }

        // Bouton R√©pondre commentaire
        if (event.target.closest('.reply-comment-btn')) {
            const button = event.target.closest('.reply-comment-btn');
            const commentId = button.getAttribute('data-comment-id');
            const commentCard = button.closest('.comment-card-premium');
            const existingForm = commentCard.querySelector('.reply-form-modern');

            if (existingForm) {
                // Masquer le formulaire existant
                existingForm.style.animation = 'slideUp 0.3s ease-out';
                setTimeout(() => {
                    existingForm.remove();
                }, 300);
                button.querySelector('span').textContent = 'R√©pondre';
                button.style.borderColor = '';
                button.style.color = '';
                button.style.background = '';
            } else {
                // Cr√©er un nouveau formulaire de r√©ponse moderne
                const replyForm = document.createElement('div');
                replyForm.className = 'reply-form-modern';
                replyForm.style.animation = 'slideDown 0.3s ease-out';

                // R√©cup√©rer l'avatar de l'utilisateur actuel
                const userAvatar = document.querySelector('.user-avatar-premium img')?.src || '';
                const userName = document.querySelector('.user-name-premium')?.textContent || 'Utilisateur';
                const userInitial = userName.charAt(0).toUpperCase();

                replyForm.innerHTML = `
                    <div style="margin-top: 2rem; padding: 2rem; background: linear-gradient(135deg, #f8faff 0%, #e8f4fd 100%); border-radius: 20px; border: 2px solid #2196f3; box-shadow: 0 8px 32px rgba(33, 150, 243, 0.15); position: relative; overflow: hidden;">
                        <!-- Effet de brillance -->
                        <div style="position: absolute; top: 0; left: -100%; width: 100%; height: 100%; background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent); animation: shimmer 2s infinite;"></div>

                        <!-- En-t√™te du formulaire -->
                        <div style="display: flex; align-items: center; gap: 1rem; margin-bottom: 1.5rem; position: relative; z-index: 2;">
                            <div style="width: 45px; height: 45px; background: ${userAvatar ? 'url(' + userAvatar + ')' : 'linear-gradient(135deg, #2196f3 0%, #42a5f5 100%)'}; background-size: cover; background-position: center; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-weight: bold; font-size: 1.1rem; border: 3px solid #2196f3; box-shadow: 0 4px 15px rgba(33, 150, 243, 0.3);">
                                ${userAvatar ? '' : userInitial}
                            </div>
                            <div>
                                <strong style="color: #1565c0; font-size: 1.1rem;">R√©pondre √† ce commentaire</strong>
                                <div style="font-size: 0.85rem; color: #666; margin-top: 2px;">Votre r√©ponse sera visible par tous les visiteurs</div>
                            </div>
                        </div>

                        <!-- Zone de texte styl√©e -->
                        <div style="position: relative; margin-bottom: 1.5rem;">
                            <textarea placeholder="Partagez votre r√©ponse..." style="width: 100%; padding: 1.25rem; border: 2px solid #e3f2fd; border-radius: 15px; resize: vertical; min-height: 120px; font-family: inherit; font-size: 1rem; line-height: 1.6; transition: all 0.3s ease; background: white; box-shadow: inset 0 2px 8px rgba(0,0,0,0.05);" onfocus="this.style.borderColor='#2196f3'; this.style.boxShadow='0 0 0 4px rgba(33, 150, 243, 0.1), inset 0 2px 8px rgba(0,0,0,0.05)'" onblur="this.style.borderColor='#e3f2fd'; this.style.boxShadow='inset 0 2px 8px rgba(0,0,0,0.05)'"></textarea>
                            <div style="position: absolute; bottom: 10px; right: 15px; font-size: 0.75rem; color: #999; pointer-events: none;">Appuyez sur Ctrl+Entr√©e pour publier</div>
                        </div>

                        <!-- Boutons d'action -->
                        <div style="display: flex; gap: 1rem; justify-content: flex-end; position: relative; z-index: 2;">
                            <button onclick="cancelReply(this)" style="padding: 0.875rem 1.75rem; background: #f8f9fa; color: #6c757d; border: 2px solid #e9ecef; border-radius: 12px; cursor: pointer; font-weight: 600; font-size: 0.95rem; transition: all 0.3s ease; display: flex; align-items: center; gap: 0.5rem;" onmouseover="this.style.background='#e9ecef'; this.style.borderColor='#dee2e6'; this.style.transform='translateY(-1px)'" onmouseout="this.style.background='#f8f9fa'; this.style.borderColor='#e9ecef'; this.style.transform='translateY(0)'">
                                <i class="fas fa-times"></i>Annuler
                            </button>
                            <button onclick="submitReply(${commentId}, this)" style="padding: 0.875rem 1.75rem; background: linear-gradient(135deg, #2196f3 0%, #1976d2 100%); color: white; border: none; border-radius: 12px; cursor: pointer; font-weight: 600; font-size: 0.95rem; box-shadow: 0 4px 20px rgba(33, 150, 243, 0.4); transition: all 0.3s ease; display: flex; align-items: center; gap: 0.5rem;" onmouseover="this.style.transform='translateY(-2px)'; this.style.boxShadow='0 8px 30px rgba(33, 150, 243, 0.5)'" onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 4px 20px rgba(33, 150, 243, 0.4)'">
                                <i class="fas fa-paper-plane"></i>Publier la r√©ponse
                            </button>
                        </div>
                    </div>
                `;

                commentCard.appendChild(replyForm);
                button.querySelector('span').textContent = 'Masquer';
                button.style.borderColor = '#2196f3';
                button.style.color = '#2196f3';
                button.style.background = 'rgba(33, 150, 243, 0.1)';

                // Focus automatique sur le textarea avec d√©lai
                setTimeout(() => {
                    const textarea = replyForm.querySelector('textarea');
                    textarea.focus();

                    // Gestion du raccourci Ctrl+Entr√©e
                    textarea.addEventListener('keydown', function(e) {
                        if (e.ctrlKey && e.key === 'Enter') {
                            e.preventDefault();
                            replyForm.querySelector('button[onclick*="submitReply"]').click();
                        }
                    });
                }, 100);
            }
        }

        // Bouton Partager commentaire
        if (event.target.closest('.share-comment-btn')) {
            const button = event.target.closest('.share-comment-btn');
            const commentCard = button.closest('.comment-card-premium');
            const commentId = commentCard.id;

            // Animation de clic
            button.style.transform = 'scale(0.95)';
            setTimeout(() => {
                button.style.transform = 'scale(1)';
            }, 150);

            // Construire l'URL de partage avec ancre
            const currentUrl = window.location.href.split('#')[0]; // Supprimer l'ancre existante
            const shareUrl = currentUrl + '#' + commentId;

            // Fonction de copie moderne avec fallback
            const copyToClipboard = async (text) => {
                try {
                    if (navigator.clipboard && window.isSecureContext) {
                        await navigator.clipboard.writeText(text);
                        return true;
                    } else {
                        // Fallback pour navigateurs plus anciens ou contextes non s√©curis√©s
                        const textArea = document.createElement('textarea');
                        textArea.value = text;
                        textArea.style.position = 'fixed';
                        textArea.style.left = '-999999px';
                        textArea.style.top = '-999999px';
                        document.body.appendChild(textArea);
                        textArea.focus();
                        textArea.select();
                        const result = document.execCommand('copy');
                        document.body.removeChild(textArea);
                        return result;
                    }
                } catch (err) {
                    console.error('Erreur de copie:', err);
                    return false;
                }
            };

            // Ex√©cuter la copie
            copyToClipboard(shareUrl).then(success => {
                if (success) {
                    // Succ√®s - Animation et feedback
                    button.style.borderColor = '#4caf50';
                    button.style.color = '#4caf50';
                    button.style.background = 'rgba(76, 175, 80, 0.1)';

                    const originalText = button.querySelector('span').textContent;
                    button.querySelector('span').innerHTML = '<i class="fas fa-check" style="margin-right: 0.5rem;"></i>Copi√© !';

                    // Animation de l'ic√¥ne
                    const icon = button.querySelector('i');
                    icon.style.animation = 'checkmark 0.5s ease-in-out';

                    showNotification('üîó Lien du commentaire copi√© dans le presse-papiers !', 'success');

                    // Restaurer l'√©tat original apr√®s 3 secondes
                    setTimeout(() => {
                        button.style.borderColor = '';
                        button.style.color = '';
                        button.style.background = '';
                        button.querySelector('span').innerHTML = originalText;
                        icon.style.animation = '';
                    }, 3000);
                } else {
                    // √âchec - Afficher l'URL dans une notification
                    showNotification('Impossible de copier automatiquement. Lien: ' + shareUrl, 'error');
                }
            });
        }
    });

    // ===== ANIMATIONS AU SCROLL =====
    const observerOptions = {
        threshold: 0.1,
        rootMargin: '0px 0px -50px 0px'
    };

    const observer = new IntersectionObserver(function(entries) {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.classList.add('animate-in');
            }
        });
    }, observerOptions);

    // Observer les √©l√©ments √† animer
    document.querySelectorAll('.sidebar-card-premium, .comment-card-premium, .showcase-container, .section-header-premium').forEach(el => {
        observer.observe(el);
    });

    // ===== SYST√àME DE NOTIFICATIONS =====
    function showNotification(message, type = 'info') {
        const notification = document.createElement('div');
        notification.className = `notification-premium ${type}`;
        notification.innerHTML = `
            <div class="notification-content">
                <i class="fas fa-${type === 'success' ? 'check-circle' : type === 'error' ? 'exclamation-circle' : 'info-circle'}"></i>
                <span>${message}</span>
            </div>
        `;

        document.body.appendChild(notification);

        setTimeout(() => {
            notification.classList.add('show');
        }, 10);

        setTimeout(() => {
            notification.classList.remove('show');
            setTimeout(() => {
                document.body.removeChild(notification);
            }, 300);
        }, 3000);
    }

    // ===== EFFETS DE PARALLAXE SUBTILS =====
    window.addEventListener('scroll', function() {
        const scrolled = window.pageYOffset;
        const parallaxElements = document.querySelectorAll('.hero-pattern');

        parallaxElements.forEach(element => {
            const speed = 0.5;
            element.style.transform = `translateY(${scrolled * speed}px)`;
        });
    });

    // ===== FONCTION TOGGLE COMMENTAIRES =====
    function toggleComments() {
        const commentsList = document.getElementById('comments-list');
        const toggleBtn = document.querySelector('.comments-toggle-btn');
        const toggleIcon = document.querySelector('.toggle-icon');
        const toggleText = toggleBtn.querySelector('span');

        if (commentsList.style.display === 'none' || commentsList.style.display === '') {
            commentsList.style.display = 'block';
            commentsList.style.animation = 'slideDown 0.3s ease-out';
            toggleIcon.style.transform = 'rotate(180deg)';
            toggleText.textContent = toggleText.textContent.replace('Voir les', 'Masquer les');
        } else {
            commentsList.style.animation = 'slideUp 0.3s ease-out';
            setTimeout(() => {
                commentsList.style.display = 'none';
            }, 300);
            toggleIcon.style.transform = 'rotate(0deg)';
            toggleText.textContent = toggleText.textContent.replace('Masquer les', 'Voir les');
        }
    }

    // ===== INITIALISATION =====
    document.addEventListener('DOMContentLoaded', function() {
        // Animation d'entr√©e pour les √©l√©ments visibles
        const visibleElements = document.querySelectorAll('.project-title-premium, .project-description-premium, .metadata-group');
        visibleElements.forEach((el, index) => {
            setTimeout(() => {
                el.classList.add('animate-in');
            }, index * 200);
        });

        // Initialiser les tooltips et autres interactions
        initializeInteractions();
    });

    function initializeInteractions() {
        // Effet de ripple sur les boutons
        document.querySelectorAll('.btn-premium, .btn-comment-premium').forEach(button => {
            button.addEventListener('click', function(e) {
                const ripple = document.createElement('span');
                const rect = this.getBoundingClientRect();
                const size = Math.max(rect.width, rect.height);
                const x = e.clientX - rect.left - size / 2;
                const y = e.clientY - rect.top - size / 2;

                ripple.style.width = ripple.style.height = size + 'px';
                ripple.style.left = x + 'px';
                ripple.style.top = y + 'px';
                ripple.classList.add('ripple-effect');

                this.appendChild(ripple);

                setTimeout(() => {
                    ripple.remove();
                }, 600);
            });
        });
    }

    // ===== FONCTIONS UTILITAIRES POUR LES R√âPONSES =====
    function submitReply(commentId, button) {
        const replyForm = button.closest('.reply-form-inline');
        const textarea = replyForm.querySelector('textarea');
        const replyText = textarea.value.trim();

        if (!replyText) {
            showNotification('Veuillez √©crire une r√©ponse', 'error');
            return;
        }

        // Animation de chargement
        button.disabled = true;
        button.textContent = 'Publication...';

        // Simuler l'envoi (vous pouvez impl√©menter la vraie logique c√¥t√© serveur)
        setTimeout(() => {
            // Cr√©er une nouvelle r√©ponse visuelle
            const replyHtml = `
                <div class="reply-item" style="margin-top: 1rem; padding: 1rem; background: #e3f2fd; border-radius: 12px; border-left: 3px solid #2196f3;">
                    <div style="display: flex; align-items: center; gap: 0.5rem; margin-bottom: 0.5rem;">
                        <div style="width: 30px; height: 30px; background: #2196f3; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-weight: bold; font-size: 0.8rem;">
                            ${document.querySelector('.user-name-premium')?.textContent?.charAt(0) || 'U'}
                        </div>
                        <strong style="color: #1976d2;">${document.querySelector('.user-name-premium')?.textContent || 'Utilisateur'}</strong>
                        <span style="color: #666; font-size: 0.8rem;">√Ä l'instant</span>
                    </div>
                    <p style="margin: 0; color: #333; line-height: 1.5;">${replyText}</p>
                </div>
            `;

            // Ajouter la r√©ponse avant le formulaire
            replyForm.insertAdjacentHTML('beforebegin', replyHtml);

            // Supprimer le formulaire
            replyForm.remove();

            // R√©initialiser le bouton r√©pondre
            const replyButton = document.querySelector(`[data-comment-id="${commentId}"].reply-comment-btn`);
            if (replyButton) {
                replyButton.querySelector('span').textContent = 'R√©pondre';
                replyButton.style.borderColor = '';
                replyButton.style.color = '';
            }

            showNotification('R√©ponse publi√©e avec succ√®s !', 'success');
        }, 1000);
    }

    function cancelReply(button) {
        const replyForm = button.closest('.reply-form-inline');
        const commentCard = replyForm.closest('.comment-card-premium, .facebook-comment-card');
        const commentId = commentCard.querySelector('[data-comment-id]')?.getAttribute('data-comment-id');

        // Supprimer le formulaire
        replyForm.remove();

        // R√©initialiser le bouton r√©pondre
        if (commentId) {
            const replyButton = document.querySelector(`[data-comment-id="${commentId}"].reply-comment-btn`);
            if (replyButton) {
                replyButton.querySelector('span').textContent = 'R√©pondre';
                replyButton.style.borderColor = '';
                replyButton.style.color = '';
            }
        }
    }
</script>

<style>
/* Styles pour les animations et effets */
.animate-in {
    animation: slideInUp 0.6s ease-out forwards;
}

@keyframes slideInUp {
    from {
        opacity: 0;
        transform: translateY(30px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.notification-premium {
    position: fixed;
    top: 20px;
    right: 20px;
    background: white;
    padding: 16px 20px;
    border-radius: 12px;
    box-shadow: 0 10px 40px rgba(0,0,0,0.15);
    transform: translateX(100%);
    transition: transform 0.3s ease;
    z-index: 10000;
}

.notification-premium.show {
    transform: translateX(0);
}

.notification-premium.success {
    border-left: 4px solid #10b981;
}

.notification-premium.error {
    border-left: 4px solid #ef4444;
}

.notification-content {
    display: flex;
    align-items: center;
    gap: 12px;
}

.ripple-effect {
    position: absolute;
    border-radius: 50%;
    background: rgba(255,255,255,0.3);
    transform: scale(0);
    animation: ripple 0.6s linear;
    pointer-events: none;
}

@keyframes ripple {
    to {
        transform: scale(4);
        opacity: 0;
    }
}

.btn-premium.loading::after {
    content: '';
    width: 16px;
    height: 16px;
    border: 2px solid transparent;
    border-top: 2px solid currentColor;
    border-radius: 50%;
    animation: spin 1s linear infinite;
    margin-left: 8px;
}

@keyframes spin {
    to {
        transform: rotate(360deg);
    }
}

/* ===== STYLES FACEBOOK ULTRA-MODERNES ===== */
.comments-toggle-section {
    margin-bottom: 2rem;
    text-align: center;
}

.comments-toggle-btn {
    display: inline-flex;
    align-items: center;
    gap: 1rem;
    padding: 1rem 2rem;
    background: linear-gradient(135deg, #1877f2 0%, #42a5f5 100%);
    color: white;
    border: none;
    border-radius: 25px;
    font-size: 1rem;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
    box-shadow: 0 4px 20px rgba(24, 119, 242, 0.3);
}

.comments-toggle-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 30px rgba(24, 119, 242, 0.4);
    background: linear-gradient(135deg, #166fe5 0%, #3b9ae1 100%);
}

.toggle-icon {
    transition: transform 0.3s ease;
}

/* ===== COMMENTAIRES STYLE FACEBOOK MODERNE ===== */
.facebook-comment-card {
    display: flex;
    gap: 1rem;
    margin-bottom: 1.5rem;
    padding: 1rem;
    background: #ffffff;
    border-radius: 16px;
    box-shadow: 0 2px 12px rgba(0, 0, 0, 0.08);
    transition: all 0.3s ease;
    border: 1px solid rgba(0, 0, 0, 0.05);
}

.facebook-comment-card:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.12);
}

.comment-avatar-facebook {
    position: relative;
    flex-shrink: 0;
}

.avatar-img-facebook {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    object-fit: cover;
    border: 2px solid #1877f2;
}

.avatar-placeholder-facebook {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    background: linear-gradient(135deg, #1877f2 0%, #42a5f5 100%);
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-weight: 700;
    font-size: 1.1rem;
    border: 2px solid #1877f2;
}

.online-indicator {
    position: absolute;
    bottom: 2px;
    right: 2px;
    width: 12px;
    height: 12px;
    background: #42b883;
    border: 2px solid white;
    border-radius: 50%;
    animation: pulse 2s ease-in-out infinite;
}

.comment-content-facebook {
    flex: 1;
    min-width: 0;
}

.comment-bubble-facebook {
    background: #f0f2f5;
    border-radius: 18px;
    padding: 12px 16px;
    margin-bottom: 8px;
    position: relative;
}

.comment-bubble-facebook::before {
    content: '';
    position: absolute;
    left: -8px;
    top: 12px;
    width: 0;
    height: 0;
    border-style: solid;
    border-width: 8px 8px 8px 0;
    border-color: transparent #f0f2f5 transparent transparent;
}

.comment-header-facebook {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 6px;
}

.author-name-facebook {
    font-size: 0.9rem;
    font-weight: 700;
    color: #1c1e21;
    margin: 0;
}

.comment-time-facebook {
    font-size: 0.75rem;
    color: #65676b;
    font-weight: 500;
}

.comment-text-facebook {
    font-size: 0.95rem;
    line-height: 1.4;
    color: #1c1e21;
    word-wrap: break-word;
}

.comment-actions-facebook {
    display: flex;
    align-items: center;
    gap: 1rem;
    padding-left: 16px;
}

.action-btn-facebook {
    display: flex;
    align-items: center;
    gap: 0.4rem;
    background: none;
    border: none;
    color: #65676b;
    font-size: 0.8rem;
    font-weight: 600;
    cursor: pointer;
    padding: 4px 8px;
    border-radius: 6px;
    transition: all 0.2s ease;
}

.action-btn-facebook:hover {
    background: #f0f2f5;
    color: #1877f2;
}

.like-btn-facebook:hover {
    color: #1877f2;
}

.like-btn-facebook.liked {
    color: #1877f2;
}

.like-btn-facebook.liked i {
    animation: likeAnimation 0.3s ease;
}

.reply-btn-facebook:hover {
    color: #42b883;
}

.share-btn-facebook:hover {
    color: #ff6b6b;
}

.reaction-count {
    display: flex;
    align-items: center;
    gap: 0.3rem;
    margin-left: auto;
    font-size: 0.75rem;
    color: #65676b;
}

.reaction-icon {
    color: #1877f2;
    font-size: 0.7rem;
}

/* ===== √âTAT VIDE FACEBOOK ===== */
.empty-comments-facebook {
    text-align: center;
    padding: 3rem 2rem;
    background: #f8f9fa;
    border-radius: 16px;
    border: 2px dashed #dee2e6;
}

.empty-icon-facebook {
    font-size: 3rem;
    color: #65676b;
    margin-bottom: 1rem;
    opacity: 0.6;
}

.empty-title-facebook {
    font-size: 1.3rem;
    font-weight: 700;
    color: #1c1e21;
    margin-bottom: 0.5rem;
}

.empty-text-facebook {
    color: #65676b;
    font-size: 1rem;
    line-height: 1.5;
}

/* ===== ANIMATIONS FACEBOOK ===== */
@keyframes slideDown {
    from {
        opacity: 0;
        transform: translateY(-20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes slideUp {
    from {
        opacity: 1;
        transform: translateY(0);
    }
    to {
        opacity: 0;
        transform: translateY(-20px);
    }
}

@keyframes likeAnimation {
    0% {
        transform: scale(1);
    }
    50% {
        transform: scale(1.3);
    }
    100% {
        transform: scale(1);
    }
}

/* ===== RESPONSIVIT√â FACEBOOK ===== */
@media (max-width: 768px) {
    .facebook-comment-card {
        flex-direction: column;
        gap: 0.75rem;
        padding: 0.75rem;
    }
    
    .comment-bubble-facebook::before {
        display: none;
    }
    
    .comment-actions-facebook {
        padding-left: 0;
        justify-content: space-around;
        flex-wrap: wrap;
    }
    
    .comments-toggle-btn {
        padding: 0.75rem 1.5rem;
        font-size: 0.9rem;
    }
}

@media (max-width: 480px) {
    .avatar-img-facebook,
    .avatar-placeholder-facebook {
        width: 35px;
        height: 35px;
        font-size: 1rem;
    }
    
    .comment-bubble-facebook {
        padding: 10px 14px;
    }
    
    .comment-text-facebook {
        font-size: 0.9rem;
    }
    
    .action-btn-facebook {
        font-size: 0.75rem;
        padding: 3px 6px;
    }
}

/* ===== ANIMATIONS SUPPL√âMENTAIRES POUR LES BOUTONS ===== */
@keyframes checkmark {
    0% {
        transform: scale(0) rotate(0deg);
    }
    50% {
        transform: scale(1.2) rotate(180deg);
    }
    100% {
        transform: scale(1) rotate(360deg);
    }
}

@keyframes shimmer {
    0% {
        left: -100%;
    }
    100% {
        left: 100%;
    }
}

@keyframes heartBeat {
    0% {
        transform: scale(1);
    }
    14% {
        transform: scale(1.3);
    }
    28% {
        transform: scale(1);
    }
    42% {
        transform: scale(1.3);
    }
    70% {
        transform: scale(1);
    }
}

/* ===== STYLES POUR LES FORMULAIRES DE R√âPONSE ===== */
.reply-form-modern {
    animation: slideDown 0.3s ease-out;
}

.reply-form-modern textarea:focus {
    outline: none;
    border-color: #2196f3 !important;
    box-shadow: 0 0 0 4px rgba(33, 150, 243, 0.1), inset 0 2px 8px rgba(0,0,0,0.05) !important;
}

/* ===== COMPTEUR DE LIKES STYL√â ===== */
.like-count {
    display: inline-block;
    margin-left: 0.25rem;
    padding: 0.125rem 0.5rem;
    background: rgba(233, 30, 99, 0.1);
    border-radius: 12px;
    font-size: 0.8rem;
    font-weight: 700;
    color: #e91e63;
    animation: countUp 0.3s ease-out;
}

@keyframes countUp {
    0% {
        transform: scale(0);
        opacity: 0;
    }
    50% {
        transform: scale(1.2);
    }
    100% {
        transform: scale(1);
        opacity: 1;
    }
}

/* ===== EFFETS HOVER AM√âLIOR√âS ===== */
.comment-action-btn:hover {
    transform: translateY(-2px) !important;
    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.15) !important;
}

.comment-action-btn:active {
    transform: translateY(0) scale(0.98) !important;
    transition: all 0.1s ease !important;
}

/* ===== INDICATEURS VISUELS ===== */
.comment-action-btn.active {
    background: rgba(33, 150, 243, 0.1);
    border-color: #2196f3;
    color: #2196f3;
}

.comment-action-btn.liked {
    background: rgba(233, 30, 99, 0.1);
    border-color: #e91e63;
    color: #e91e63;
}

.comment-action-btn.shared {
    background: rgba(76, 175, 80, 0.1);
    border-color: #4caf50;
    color: #4caf50;
}

/* ===== SECTION R√âPONSES FACEBOOK ===== */
.replies-section-facebook {
    margin-top: 1rem;
    padding-left: 2rem;
    border-left: 2px solid #e4e6ea;
    position: relative;
}

.replies-section-facebook::before {
    content: '';
    position: absolute;
    left: -1px;
    top: 0;
    width: 2px;
    height: 20px;
    background: #1877f2;
    border-radius: 1px;
}

.replies-container-facebook {
    display: flex;
    flex-direction: column;
    gap: 1rem;
}

.reply-item-facebook {
    display: flex;
    gap: 0.75rem;
    padding: 1rem;
    background: #f0f2f5;
    border-radius: 16px;
    position: relative;
    animation: slideInReply 0.3s ease-out;
}

.reply-avatar-facebook {
    width: 32px;
    height: 32px;
    border-radius: 50%;
    overflow: hidden;
    flex-shrink: 0;
}

.reply-avatar-facebook img {
    width: 100%;
    height: 100%;
    object-fit: cover;
}

.reply-avatar-placeholder-facebook {
    width: 32px;
    height: 32px;
    border-radius: 50%;
    background: linear-gradient(135deg, #1877f2 0%, #42a5f5 100%);
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-weight: 600;
    font-size: 0.8rem;
}

.reply-content-facebook {
    flex: 1;
    min-width: 0;
}

.reply-header-facebook {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    margin-bottom: 0.25rem;
}

.reply-author-facebook {
    font-weight: 600;
    color: #1c1e21;
    font-size: 0.9rem;
}

.reply-time-facebook {
    font-size: 0.75rem;
    color: #65676b;
}

.reply-text-facebook {
    color: #1c1e21;
    font-size: 0.9rem;
    line-height: 1.4;
    word-wrap: break-word;
}

.reply-actions-facebook {
    display: flex;
    gap: 1rem;
    margin-top: 0.5rem;
}

.reply-action-btn-facebook {
    background: none;
    border: none;
    color: #65676b;
    font-size: 0.75rem;
    font-weight: 600;
    cursor: pointer;
    padding: 0.25rem 0.5rem;
    border-radius: 4px;
    transition: all 0.2s ease;
    display: flex;
    align-items: center;
    gap: 0.25rem;
}

.reply-action-btn-facebook:hover {
    background: #e4e6ea;
    color: #1877f2;
}

@keyframes slideInReply {
    from {
        opacity: 0;
        transform: translateX(-20px);
    }
    to {
        opacity: 1;
        transform: translateX(0);
    }
}

/* ===== FORMULAIRE DE R√âPONSE MODERNE ===== */
.reply-form-modern {
    margin-top: 1rem;
    animation: slideDown 0.3s ease-out;
}

.reply-form-modern .form-header {
    display: flex;
    align-items: center;
    gap: 1rem;
    margin-bottom: 1rem;
}

.reply-form-modern .user-avatar {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    overflow: hidden;
}

.reply-form-modern .user-avatar img {
    width: 100%;
    height: 100%;
    object-fit: cover;
}

.reply-form-modern .user-info h4 {
    margin: 0;
    font-size: 1rem;
    color: #1565c0;
}

.reply-form-modern .user-info p {
    margin: 0;
    font-size: 0.8rem;
    color: #666;
}

/* ===== RESPONSIVIT√â R√âPONSES ===== */
@media (max-width: 768px) {
    .replies-section-facebook {
        padding-left: 1rem;
    }
    
    .reply-item-facebook {
        padding: 0.75rem;
        gap: 0.5rem;
    }
    
    .reply-avatar-facebook,
    .reply-avatar-placeholder-facebook {
        width: 28px;
        height: 28px;
        font-size: 0.7rem;
    }
    
    .reply-actions-facebook {
        gap: 0.5rem;
    }
}

/* ===== RESPONSIVIT√â COMPL√àTE POUR PROJECT DETAIL ===== */

/* ===== TABLETTE (768px - 1024px) ===== */
@media (max-width: 1024px) {
    .container-fluid {
        padding: 0 20px;
    }
    
    .content-layout-premium {
        grid-template-columns: 1fr 300px;
        gap: 2rem;
    }
    
    .project-title-premium .title-main {
        font-size: 2.5rem;
    }
    
    .metadata-group {
        grid-template-columns: repeat(2, 1fr);
        gap: 1rem;
    }
    
    .project-actions-premium {
        flex-wrap: wrap;
        gap: 1rem;
    }
    
    .technologies-grid-premium {
        grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
        gap: 1rem;
    }
}

/* ===== MOBILE LARGE (481px - 768px) ===== */
@media (max-width: 768px) {
    /* Navigation Breadcrumb */
    .breadcrumb-luxury {
        padding: 1rem 0;
    }
    
    .breadcrumb-nav {
        flex-wrap: wrap;
        gap: 0.5rem;
    }
    
    .breadcrumb-link span {
        display: none;
    }
    
    .breadcrumb-current {
        font-size: 0.9rem;
        max-width: 200px;
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
    }
    
    /* Hero Section */
    .project-hero-premium {
        padding: 2rem 0;
        min-height: auto;
    }
    
    .hero-content-premium {
        text-align: center;
    }
    
    .project-title-premium .title-main {
        font-size: 2rem;
        line-height: 1.2;
    }
    
    .project-description-premium .description-text {
        font-size: 1rem;
        line-height: 1.5;
    }
    
    .metadata-group {
        grid-template-columns: 1fr;
        gap: 1rem;
        max-width: 400px;
        margin: 0 auto;
    }
    
    .metadata-item {
        justify-content: center;
        text-align: center;
    }
    
    .project-actions-premium {
        flex-direction: column;
        align-items: stretch;
        gap: 1rem;
        max-width: 300px;
        margin: 0 auto;
    }
    
    .btn-premium {
        justify-content: center;
        padding: 1rem 1.5rem;
        font-size: 1rem;
    }
    
    /* Content Layout */
    .content-layout-premium {
        display: block;
    }
    
    .main-content-premium {
        margin-bottom: 2rem;
    }
    
    .sidebar-premium {
        order: -1;
        margin-bottom: 2rem;
    }
    
    /* Project Showcase */
    .project-showcase-premium {
        margin-bottom: 2rem;
    }
    
    .showcase-image {
        border-radius: 12px;
    }
    
    /* Section Headers */
    .section-header-premium {
        text-align: center;
        margin-bottom: 1.5rem;
    }
    
    .section-title-premium {
        font-size: 1.5rem;
    }
    
    /* Technologies Grid */
    .technologies-grid-premium {
        grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
        gap: 0.75rem;
    }
    
    .tech-card-premium {
        padding: 0.75rem;
        font-size: 0.85rem;
    }
    
    /* Sidebar Cards */
    .sidebar-card-premium {
        margin-bottom: 1.5rem;
    }
    
    .info-grid-premium {
        grid-template-columns: 1fr;
        gap: 1rem;
    }
    
    .stats-grid-premium {
        grid-template-columns: repeat(2, 1fr);
    }
    
    /* Related Projects */
    .related-projects-premium {
        display: grid;
        grid-template-columns: 1fr;
        gap: 1rem;
    }
    
    .related-project-premium {
        flex-direction: row;
        align-items: center;
        gap: 1rem;
    }
    
    .related-image-premium {
        width: 80px;
        height: 80px;
        flex-shrink: 0;
    }
    
    /* Comments Section */
    .comments-header-premium {
        flex-direction: column;
        text-align: center;
        gap: 1rem;
    }
    
    .comments-title-premium {
        font-size: 1.5rem;
    }
    
    .comment-form-premium {
        padding: 1.5rem;
    }
    
    .form-header-premium {
        flex-direction: column;
        text-align: center;
        gap: 1rem;
    }
    
    .comment-input-premium {
        min-height: 100px;
        font-size: 1rem;
    }
    
    .btn-comment-premium {
        width: 100%;
        justify-content: center;
        padding: 1rem;
    }
    
    /* Login Prompt */
    .login-prompt-premium {
        padding: 2rem 1rem;
        text-align: center;
    }
    
    .prompt-title-premium {
        font-size: 1.3rem;
    }
    
    .btn-login-premium {
        width: 100%;
        justify-content: center;
        padding: 1rem;
    }
    
    /* Comments Toggle */
    .comments-toggle-btn {
        width: 100%;
        justify-content: center;
        padding: 1rem 1.5rem;
    }
    
    /* Modal */
    .modal-container-premium {
        margin: 1rem;
        max-height: calc(100vh - 2rem);
    }
    
    .modal-header-premium {
        padding: 1rem;
    }
    
    .modal-content-premium {
        padding: 1rem;
    }
    
    .modal-controls-premium {
        flex-direction: column;
        gap: 0.5rem;
    }
    
    .control-btn-premium {
        width: 100%;
        justify-content: center;
    }
}

/* ===== MOBILE SMALL (320px - 480px) ===== */
@media (max-width: 480px) {
    .container-fluid {
        padding: 0 15px;
    }
    
    /* Breadcrumb */
    .breadcrumb-luxury {
        padding: 0.75rem 0;
    }
    
    .breadcrumb-link {
        padding: 0.25rem;
    }
    
    .breadcrumb-current {
        font-size: 0.8rem;
        max-width: 150px;
    }
    
    /* Hero Section */
    .project-hero-premium {
        padding: 1.5rem 0;
    }
    
    .category-badge-premium {
        font-size: 0.8rem;
        padding: 0.5rem 1rem;
    }
    
    .project-title-premium .title-main {
        font-size: 1.5rem;
        line-height: 1.3;
    }
    
    .project-description-premium {
        margin-bottom: 1.5rem;
    }
    
    .project-description-premium .description-text {
        font-size: 0.9rem;
    }
    
    .metadata-item {
        padding: 0.75rem;
    }
    
    .metadata-icon {
        width: 35px;
        height: 35px;
    }
    
    .metadata-label {
        font-size: 0.75rem;
    }
    
    .metadata-value {
        font-size: 0.85rem;
    }
    
    .btn-premium {
        padding: 0.875rem 1.25rem;
        font-size: 0.9rem;
    }
    
    /* Content Sections */
    .section-title-premium {
        font-size: 1.25rem;
    }
    
    .description-content-premium {
        font-size: 0.9rem;
        line-height: 1.6;
    }
    
    /* Technologies */
    .technologies-grid-premium {
        grid-template-columns: repeat(auto-fit, minmax(80px, 1fr));
        gap: 0.5rem;
    }
    
    .tech-card-premium {
        padding: 0.5rem;
        font-size: 0.75rem;
    }
    
    .tech-icon-premium {
        font-size: 1rem;
    }
    
    /* Sidebar */
    .sidebar-card-premium {
        padding: 1rem;
        margin-bottom: 1rem;
    }
    
    .card-title-premium {
        font-size: 1rem;
    }
    
    .info-item-premium {
        padding: 0.75rem;
    }
    
    .info-label-premium {
        font-size: 0.75rem;
    }
    
    .info-value-premium {
        font-size: 0.85rem;
    }
    
    .stat-number-premium {
        font-size: 1.25rem;
    }
    
    .stat-label-premium {
        font-size: 0.75rem;
    }
    
    /* Related Projects */
    .related-project-premium {
        padding: 0.75rem;
    }
    
    .related-image-premium {
        width: 60px;
        height: 60px;
    }
    
    .related-title-premium {
        font-size: 0.9rem;
    }
    
    .related-description-premium {
        font-size: 0.8rem;
        line-height: 1.4;
    }
    
    .related-category-premium {
        font-size: 0.7rem;
    }
    
    /* Comments */
    .comments-title-premium {
        font-size: 1.25rem;
    }
    
    .comments-subtitle-premium {
        font-size: 0.9rem;
    }
    
    .count-number {
        font-size: 1.5rem;
    }
    
    .count-label {
        font-size: 0.8rem;
    }
    
    .comment-form-premium {
        padding: 1rem;
    }
    
    .user-avatar-premium {
        width: 35px;
        height: 35px;
    }
    
    .user-name-premium {
        font-size: 0.9rem;
    }
    
    .user-role-premium {
        font-size: 0.75rem;
    }
    
    .comment-input-premium {
        font-size: 0.9rem;
        padding: 0.875rem;
    }
    
    .btn-comment-premium {
        font-size: 0.9rem;
        padding: 0.875rem;
    }
    
    /* Login Prompt */
    .prompt-icon-premium {
        width: 40px;
        height: 40px;
    }
    
    .prompt-title-premium {
        font-size: 1.1rem;
    }
    
    .prompt-text-premium {
        font-size: 0.9rem;
    }
    
    .btn-login-premium {
        font-size: 0.9rem;
        padding: 0.875rem;
    }
    
    /* Comments Toggle */
    .comments-toggle-btn {
        font-size: 0.9rem;
        padding: 0.875rem 1.25rem;
    }
    
    /* Facebook Comments */
    .facebook-comment-card {
        padding: 0.75rem;
        gap: 0.75rem;
        margin-bottom: 1rem;
    }
    
    .avatar-img-facebook,
    .avatar-placeholder-facebook {
        width: 32px;
        height: 32px;
        font-size: 0.9rem;
    }
    
    .comment-bubble-facebook {
        padding: 10px 12px;
    }
    
    .author-name-facebook {
        font-size: 0.85rem;
    }
    
    .comment-time-facebook {
        font-size: 0.7rem;
    }
    
    .comment-text-facebook {
        font-size: 0.85rem;
    }
    
    .action-btn-facebook {
        font-size: 0.7rem;
        padding: 3px 6px;
        gap: 0.25rem;
    }
    
    .reaction-count {
        font-size: 0.7rem;
    }
    
    /* Empty State */
    .empty-comments-facebook {
        padding: 2rem 1rem;
    }
    
    .empty-icon-facebook {
        font-size: 2rem;
    }
    
    .empty-title-facebook {
        font-size: 1.1rem;
    }
    
    .empty-text-facebook {
        font-size: 0.9rem;
    }
    
    /* Modal */
    .modal-container-premium {
        margin: 0.5rem;
        max-height: calc(100vh - 1rem);
    }
    
    .modal-header-premium {
        padding: 0.75rem;
    }
    
    .modal-title-premium {
        font-size: 0.9rem;
    }
    
    .modal-content-premium {
        padding: 0.75rem;
    }
    
    .control-btn-premium {
        font-size: 0.85rem;
        padding: 0.75rem;
    }
}

/* ===== MOBILE TR√àS PETIT (max-width: 320px) ===== */
@media (max-width: 320px) {
    .container-fluid {
        padding: 0 10px;
    }
    
    .project-title-premium .title-main {
        font-size: 1.25rem;
    }
    
    .metadata-group {
        gap: 0.75rem;
    }
    
    .metadata-item {
        padding: 0.5rem;
    }
    
    .btn-premium {
        padding: 0.75rem 1rem;
        font-size: 0.85rem;
    }
    
    .technologies-grid-premium {
        grid-template-columns: repeat(auto-fit, minmax(70px, 1fr));
    }
    
    .tech-card-premium {
        padding: 0.375rem;
        font-size: 0.7rem;
    }
    
    .sidebar-card-premium {
        padding: 0.75rem;
    }
    
    .comment-form-premium {
        padding: 0.75rem;
    }
    
    .facebook-comment-card {
        padding: 0.5rem;
        gap: 0.5rem;
    }
    
    .avatar-img-facebook,
    .avatar-placeholder-facebook {
        width: 28px;
        height: 28px;
        font-size: 0.8rem;
    }
    
    .comment-bubble-facebook {
        padding: 8px 10px;
    }
    
    .action-btn-facebook {
        font-size: 0.65rem;
        padding: 2px 4px;
    }
}

/* ===== AM√âLIORATIONS POUR L'ACCESSIBILIT√â MOBILE ===== */
@media (max-width: 768px) {
    /* Am√©liorer la taille des zones de clic */
    .btn-premium,
    .btn-comment-premium,
    .btn-login-premium,
    .comments-toggle-btn,
    .action-btn-facebook {
        min-height: 44px;
        min-width: 44px;
    }
    
    /* Am√©liorer l'espacement pour les doigts */
    .project-actions-premium {
        gap: 1rem;
    }
    
    .comment-actions-facebook {
        gap: 1rem;
    }
    
    /* Am√©liorer la lisibilit√© */
    .comment-text-facebook,
    .description-text,
    .info-value-premium {
        line-height: 1.6;
    }
    
    /* Am√©liorer les contrastes */
    .metadata-label,
    .comment-time-facebook,
    .user-role-premium {
        color: #555;
    }
}

/* ===== OPTIMISATIONS POUR LES √âCRANS TACTILES ===== */
@media (hover: none) and (pointer: coarse) {
    .btn-premium:hover,
    .action-btn-facebook:hover,
    .related-project-premium:hover {
        transform: none;
    }
    
    .btn-premium:active,
    .action-btn-facebook:active {
        transform: scale(0.95);
    }
    
    .facebook-comment-card:hover {
        transform: none;
        box-shadow: 0 2px 12px rgba(0, 0, 0, 0.08);
    }
}

/* ===== ORIENTATION PAYSAGE MOBILE ===== */
@media (max-width: 768px) and (orientation: landscape) {
    .project-hero-premium {
        padding: 1rem 0;
    }
    
    .hero-content-premium {
        display: flex;
        flex-direction: column;
        justify-content: center;
        min-height: 60vh;
    }
    
    .project-title-premium .title-main {
        font-size: 1.75rem;
    }
    
    .metadata-group {
        grid-template-columns: repeat(2, 1fr);
        max-width: 600px;
    }
    
    .project-actions-premium {
        flex-direction: row;
        max-width: 500px;
    }
}

/* ===== DARK MODE RESPONSIVE (OPTIONNEL) ===== */
@media (prefers-color-scheme: dark) and (max-width: 768px) {
    .facebook-comment-card {
        background: #2d3748;
        border-color: rgba(255, 255, 255, 0.1);
    }
    
    .comment-bubble-facebook {
        background: #4a5568;
    }
    
    .author-name-facebook,
    .comment-text-facebook {
        color: #e2e8f0;
    }
    
    .comment-time-facebook,
    .action-btn-facebook {
        color: #a0aec0;
    }
    
    .sidebar-card-premium {
        background: #2d3748;
        border-color: rgba(255, 255, 255, 0.1);
    }
    
    .info-label-premium,
    .stat-label-premium {
        color: #a0aec0;
    }
    
    .info-value-premium,
    .stat-number-premium {
        color: #e2e8f0;
    }
}

/* ===== RESPONSIVIT√â GLOBALE PAGE PROJECT DETAIL ===== */

/* Tablettes et √©crans moyens */
@media (max-width: 992px) {
    .container-fluid {
        padding: 0 1rem;
    }
    
    .content-layout-premium {
        flex-direction: column;
        gap: 2rem;
    }
    
    .main-content-premium {
        width: 100%;
    }
    
    .sidebar-premium {
        width: 100%;
        order: -1; /* Sidebar en haut sur tablette */
    }
    
    .project-metadata-premium .metadata-group {
        flex-wrap: wrap;
        gap: 1rem;
    }
    
    .project-actions-premium {
        flex-wrap: wrap;
        gap: 1rem;
        justify-content: center;
    }
    
    .technologies-grid-premium {
        grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
        gap: 0.75rem;
    }
}

/* Smartphones et petits √©crans */
@media (max-width: 768px) {
    /* Navigation breadcrumb */
    .breadcrumb-luxury {
        padding: 0.5rem 0;
    }
    
    .breadcrumb-nav {
        flex-wrap: wrap;
        gap: 0.5rem;
        font-size: 0.85rem;
    }
    
    .breadcrumb-link span {
        display: none; /* Masquer le texte, garder seulement les ic√¥nes */
    }
    
    /* Hero section */
    .project-hero-premium {
        padding: 2rem 0;
        min-height: auto;
    }
    
    .hero-main-content {
        text-align: center;
    }
    
    .project-title-premium .title-main {
        font-size: 1.8rem;
        line-height: 1.3;
    }
    
    .project-description-premium .description-text {
        font-size: 1rem;
        line-height: 1.5;
    }
    
    .project-metadata-premium .metadata-group {
        flex-direction: column;
        align-items: center;
        gap: 1rem;
    }
    
    .metadata-item {
        flex-direction: column;
        text-align: center;
        gap: 0.5rem;
    }
    
    .project-actions-premium {
        flex-direction: column;
        align-items: stretch;
        gap: 1rem;
    }
    
    .btn-premium {
        justify-content: center;
        padding: 1rem 1.5rem;
        font-size: 1rem;
    }
    
    /* Showcase d'image */
    .project-showcase-premium {
        margin: 1.5rem 0;
    }
    
    .showcase-image-wrapper {
        border-radius: 12px;
    }
    
    /* Sections de contenu */
    .section-header-premium {
        margin-bottom: 1.5rem;
    }
    
    .section-title-premium {
        font-size: 1.5rem;
    }
    
    .description-content-premium,
    .technologies-section-premium {
        padding: 1.5rem;
    }
    
    .technologies-grid-premium {
        grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
        gap: 0.5rem;
    }
    
    .tech-card-premium {
        padding: 0.75rem;
        font-size: 0.85rem;
    }
    
    /* Sidebar */
    .sidebar-card-premium {
        padding: 1.5rem;
        margin-bottom: 1.5rem;
    }
    
    .card-title-premium {
        font-size: 1.2rem;
    }
    
    .info-grid-premium {
        gap: 1rem;
    }
    
    .stats-grid-premium {
        flex-direction: column;
        gap: 1rem;
    }
    
    .stat-item-premium {
        justify-content: space-between;
        padding: 1rem;
        background: rgba(0,0,0,0.02);
        border-radius: 8px;
    }
    
    /* Projets similaires */
    .related-projects-premium {
        gap: 1rem;
    }
    
    .related-project-premium {
        flex-direction: column;
        text-align: center;
    }
    
    .related-image-premium {
        width: 100%;
        height: 150px;
        margin-bottom: 1rem;
    }
    
    /* Section commentaires */
    .comments-container-premium {
        padding: 1rem;
    }
    
    .comments-header-premium {
        flex-direction: column;
        text-align: center;
        gap: 1rem;
    }
    
    .comments-title-premium {
        font-size: 1.5rem;
    }
    
    .comment-form-premium {
        padding: 1.5rem;
    }
    
    .form-actions-premium {
        justify-content: stretch;
    }
    
    .btn-comment-premium {
        width: 100%;
        justify-content: center;
    }
    
    /* Commentaires Facebook */
    .facebook-comment-card {
        flex-direction: column;
        padding: 1rem;
        gap: 1rem;
    }
    
    .comment-bubble-facebook {
        margin-bottom: 1rem;
    }
    
    .comment-actions-facebook {
        justify-content: space-around;
        flex-wrap: wrap;
        gap: 0.5rem;
    }
    
    .action-btn-facebook {
        flex: 1;
        min-width: 80px;
        justify-content: center;
        font-size: 0.8rem;
        padding: 0.5rem;
    }
    
    /* Toggle commentaires */
    .comments-toggle-btn {
        width: 100%;
        padding: 1rem;
        font-size: 0.9rem;
    }
}

/* Tr√®s petits √©crans */
@media (max-width: 480px) {
    .container-fluid {
        padding: 0 0.75rem;
    }
    
    /* Hero ultra compact */
    .project-hero-premium {
        padding: 1.5rem 0;
    }
    
    .project-title-premium .title-main {
        font-size: 1.5rem;
    }
    
    .category-badge-premium {
        font-size: 0.75rem;
        padding: 0.5rem 1rem;
    }
    
    .project-actions-premium {
        gap: 0.75rem;
    }
    
    .btn-premium {
        padding: 0.875rem 1.25rem;
        font-size: 0.9rem;
    }
    
    /* M√©tadonn√©es compactes */
    .metadata-item {
        gap: 0.25rem;
    }
    
    .metadata-icon {
        width: 35px;
        height: 35px;
    }
    
    .metadata-content {
        font-size: 0.85rem;
    }
    
    /* Technologies ultra compactes */
    .technologies-grid-premium {
        grid-template-columns: repeat(auto-fit, minmax(80px, 1fr));
    }
    
    .tech-card-premium {
        padding: 0.5rem;
        font-size: 0.75rem;
    }
    
    .tech-icon-premium {
        width: 20px;
        height: 20px;
    }
    
    /* Sidebar ultra compacte */
    .sidebar-card-premium {
        padding: 1rem;
    }
    
    .info-item-premium {
        flex-direction: column;
        text-align: center;
        gap: 0.5rem;
    }
    
    .info-icon-premium {
        width: 30px;
        height: 30px;
    }
    
    /* Commentaires ultra compacts */
    .comment-form-premium {
        padding: 1rem;
    }
    
    .comment-input-premium {
        min-height: 80px;
        font-size: 0.9rem;
    }
    
    .facebook-comment-card {
        padding: 0.75rem;
    }
    
    .avatar-img-facebook,
    .avatar-placeholder-facebook {
        width: 35px;
        height: 35px;
        font-size: 0.9rem;
    }
    
    .comment-bubble-facebook {
        padding: 0.75rem 1rem;
        font-size: 0.9rem;
    }
    
    .action-btn-facebook {
        font-size: 0.75rem;
        padding: 0.4rem 0.6rem;
        min-width: 70px;
    }
    
    /* Modal responsive */
    .modal-container-premium {
        margin: 1rem;
        max-height: calc(100vh - 2rem);
    }
    
    .modal-image-premium {
        max-height: 60vh;
    }
    
    .modal-controls-premium {
        flex-direction: column;
        gap: 0.5rem;
    }
    
    .control-btn-premium {
        width: 100%;
        justify-content: center;
    }
}

/* √âcrans tr√®s larges */
@media (min-width: 1400px) {
    .container-fluid {
        max-width: 1320px;
        margin: 0 auto;
    }
    
    .content-layout-premium {
        gap: 4rem;
    }
    
    .main-content-premium {
        max-width: 800px;
    }
    
    .sidebar-premium {
        max-width: 350px;
    }
}

/* Optimisations pour les √©crans tactiles */
@media (hover: none) and (pointer: coarse) {
    .btn-premium,
    .action-btn-facebook,
    .comment-action-btn {
        min-height: 44px; /* Taille minimum recommand√©e pour le tactile */
        padding: 0.75rem 1rem;
    }
    
    .showcase-overlay {
        opacity: 1; /* Toujours visible sur tactile */
        background: rgba(0,0,0,0.6);
    }
    
    .project-card-premium:hover,
    .feature-card-modern:hover {
        transform: none; /* D√©sactiver les effets hover sur tactile */
    }
}

/* Mode sombre (si support√©) */
@media (prefers-color-scheme: dark) {
    .project-hero-premium {
        background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
    }
    
    .sidebar-card-premium,
    .comment-form-premium {
        background: #2d3748;
        border-color: #4a5568;
    }
    
    .facebook-comment-card {
        background: #2d3748;
        border-color: #4a5568;
    }
    
    .comment-bubble-facebook {
        background: #4a5568;
    }
}

/* R√©duction des animations sur demande */
@media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }
}
</style>
{% endblock %}